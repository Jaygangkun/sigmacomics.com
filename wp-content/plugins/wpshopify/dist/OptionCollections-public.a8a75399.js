"use strict";(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["OptionCollections-public"],{TpYg:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var o=n("GYXz"),r=n("XUG9"),i=n("ILDY"),s=n.n(i),a=n("XTMG"),l=n("KKeo"),u=n.n(l),c=n("vW+T"),p=n.n(c),d=n("+NB1"),f=n.n(d),y=n("2E6O"),h=n("PgSa"),g=n("E5I5"),x={name:"17q1cl9-secondaryButtonCSS",styles:"text-transform:capitalize;padding:5px 9px;background:white;font-size:14px;border:1px solid silver;appearance:none;font-family:inherit;&:hover{cursor:pointer;opacity:0.8;};label:secondaryButtonCSS;"},S=function(e){var t=e.onClick,n=e.payloadSettings,o=e.isBusy,r=void 0!==o&&o,i=e.extraCSS,s=void 0!==i&&i,l=x;return(0,a.tZ)("button",{onClick:t,disabled:r,css:[l,s,";label:ButtonSecondary;"]},r?n.loadMoreCollectionsBusyText:n.loadMoreCollectionsText)},b=wp.element.lazy((function(){return n.e("StorefrontFilterOptionsGroup-public").then(n.bind(n,"Y5OE"))})),m=wp.element.lazy((function(){return n.e("StorefrontFilterOptionsGroupItems-public").then(n.bind(n,"XyPT"))})),v={name:"14roezz-LoadMoreCSS",styles:"margin:10px 0 15px 17px;border-radius:4px;label:LoadMoreCSS;"},C=function(e){var t=e.payloadSettings,n=wp.element,i=n.useState,l=n.useEffect,c=i(!0),d=(0,r.Z)(c,2),x=d[0],C=d[1],Z=i(!1),w=(0,r.Z)(Z,2),k=w[0],T=w[1],F=i(!1),O=(0,r.Z)(F,2),B=O[0],z=O[1],G=i([]),E=(0,r.Z)(G,2),I=E[0],L=E[1],X=i([]),M=(0,r.Z)(X,2),K=M[0],Y=M[1],P=i([]),q=(0,r.Z)(P,2),N=q[0],D=q[1],H=(0,g.aX)(t,"collections");function R(e){return e.edges.map((function(e){return{label:e.node.title,id:e.node.id}}))}function U(){return W.apply(this,arguments)}function W(){return W=(0,o.Z)(s().mark((function e(){var t,n,o,i,a,l,u,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],C(!0),n={query:"*",sortKey:"TITLE",first:wp.hooks.applyFilters("storefront.collectionsToFetch",8),reverse:!1},t&&(n.cursor=t),e.next=6,(0,y.Z)((0,h.XK)(n));case 6:if(o=e.sent,i=(0,r.Z)(o,2),a=i[0],l=i[1],C(!1),!a){e.next=14;break}return z(a.message),e.abrupt("return");case 14:l&&(Y(l.edges),l.pageInfo.hasNextPage?T(!0):T(!1),u=wp.hooks.applyFilters("storefront.availableCollections",p()(I.concat(R(l)))),D(u),L(u));case 15:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function j(e){e&&(I.length?D(I):U())}function A(){return(A=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=K[K.length-1])&&f()(t,"cursor")&&U(t.cursor);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l((function(){j(!0)}),[]);var J=v;return(0,a.tZ)(b,{error:B,onOpen:j,openOnLoad:H,isLoadingItems:x,groupType:"collections",areFilterOptionsEmpty:u()(N),noFilterGroupFoundText:t.noFilterGroupFoundText,heading:t.collectionsHeading,items:(0,a.tZ)(React.Fragment,null,(0,a.tZ)(m,{filterOptions:N,isBusy:x,itemType:"collections"}),k&&(0,a.tZ)(S,{payloadSettings:t,isBusy:x,onClick:function(){return A.apply(this,arguments)},extraCSS:J}))})}}}]);