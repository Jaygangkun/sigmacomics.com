"use strict";(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["AdminSettingProductsMetafields-admin"],{rjjh:function(e,t,n){n.r(t);var a=n("/0+J"),i=n("oYSA"),s=n("o0o1"),p=n.n(s),o=n("xblO"),l=n("PgSa"),r=n("FxId"),c=n("PLDx"),d=n("Ancs"),f=n("UWz1"),u=n("bVwy");function m(e){var t=e.metafields,n=e.adminDispatch;return t.map((function(e){return(0,o.tZ)(g,{key:e.id,metafieldNamespace:e.namespace,metafieldKey:e.key,metafieldId:e.id,adminDispatch:n})}))}var h={name:"1m7gtz0-ProductsMetafieldsEmptyCSS",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;>p{margin-top:0;};label:ProductsMetafieldsEmptyCSS;"};function w(){var e=h;return(0,o.tZ)("div",{css:e},(0,o.tZ)("p",null,"No metafields are currently activated. Click below to start."))}function y(e){var t=e.metafields,n=e.setMetafields,a=wp.components.Button,i=t.length?wp.i18n.__("+ Add metafield","shopwp"):wp.i18n.__("Start activating metafields!","shopwp"),s=t.length?"flex-start":"center";return(0,o.tZ)(c.Z,{align:s},(0,o.tZ)(a,{onClick:function(){var e={id:Date.now().toString(),key:!1,namespace:!1};if(!1===t)var a=[e];else a=t.concat([e]);n(a)},isSecondary:!0,isSmall:!0,text:i}))}var Z={name:"jjf35o-MetafieldRowCSS",styles:"display:flex;justify-content:space-between;margin-bottom:22px;position:relative;.components-base-control{width:40.5%;margin-right:8px;}.components-button{position:relative;top:20px;top:25px;height:31px;width:88px;justify-content:center;};label:MetafieldRowCSS;"};function g(e){var t=e.metafieldNamespace,n=e.metafieldKey,s=e.metafieldId,c=e.adminDispatch,d=wp.components,u=d.TextControl,m=d.Button,h=d.Notice,w=wp.element.useState,y=w(n||""),g=(0,i.Z)(y,2),x=g[0],v=g[1],S=w(t||""),_=(0,i.Z)(S,2),b=_[0],k=_[1],C=w(!!n),M=(0,i.Z)(C,2),P=M[0],D=M[1],N=w(!!s.includes("gid://")),E=(0,i.Z)(N,2),j=E[0],A=E[1],K=w(!1),I=(0,i.Z)(K,2),O=I[0],T=I[1],R=w(!1),B=(0,i.Z)(R,2),U=B[0],W=B[1];function z(){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(p().mark((function e(){var t,n,a,o,d,u,m;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),D(!P),W(!1),j){e.next=14;break}return e.next=6,(0,r.Z)((0,l.EN)({key:x,namespace:b}));case 6:t=e.sent,n=(0,i.Z)(t,2),a=n[0],o=n[1],T(!1),a||(o.success?(c({type:"UPDATE_NOTICES",payload:(0,f.hS)(wp.i18n.__("Successfully added metafield to ShopWP","shopwp"))}),A(!0)):(d=(0,l.OM)(o),W(d))),e.next=22;break;case 14:return e.next=16,(0,r.Z)((0,l.Nw)({id:s}));case 16:u=e.sent,m=(0,i.Z)(u,2),a=m[0],o=m[1],T(!1),a||(v(""),k(""),c({type:"UPDATE_NOTICES",payload:(0,f.hS)(wp.i18n.__("Successfully removed metafield from ShopWP","shopwp"))}));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=Z;function H(e){"Enter"===e.key&&z()}return(0,o.tZ)(React.Fragment,null,(0,o.tZ)("div",{css:L},(0,o.tZ)(u,{name:wp.i18n.__("Metafield Namespace","shopwp"),type:"text",placeholder:wp.i18n.__("Namespace","shopwp"),onChange:function(e){k(e)},value:b,readOnly:j,disabled:j||O,label:wp.i18n.__("Namespace","shopwp"),onKeyDown:H}),(0,o.tZ)(u,{name:wp.i18n.__("Metafield Key","shopwp"),type:"text",placeholder:wp.i18n.__("Key","shopwp"),onChange:function(e){v(e)},value:x,readOnly:j,disabled:j||O,label:wp.i18n.__("Key","shopwp"),onKeyDown:H}),(0,o.tZ)(m,{onClick:z,disabled:O,isBusy:O,isPrimary:!0,text:j?wp.i18n.__("Deactivate","shopwp"):wp.i18n.__("Activate","shopwp")})),U&&(0,o.tZ)(h,{status:"error",onRemove:function(){W(!1)}},(0,o.tZ)("div",{dangerouslySetInnerHTML:{__html:U}})))}t.default=function(){var e=wp.element,t=e.useState,n=e.useContext,a=t(wpshopify.metafields?wpshopify.metafields:[]),s=(0,i.Z)(a,2),p=s[0],l=s[1],r=n(d.Z),c=(0,i.Z)(r,2),f=(c[0],c[1]),h=(0,o.iv)("background-image:",p.length?"none":"linear-gradient(to top, #f4edfe 0%, #ffffff 99%, #e3eeff 100%)",";margin-top:",p.length?"0px":"-25px",";padding:",p.length?"0":"20px 0px",";width:",p.length?"100%":"107%",";margin-left:",p.length?"0":"-3.6%",";;label:ProductsMetafieldsCSS;");return wpshopify.misc.isPro?(0,o.tZ)("div",{css:h},0===p.length?(0,o.tZ)(w,null):(0,o.tZ)(m,{metafields:p,adminDispatch:f}),(0,o.tZ)(y,{metafields:p,setMetafields:l})):(0,o.tZ)(u.lx,null)}}}]);